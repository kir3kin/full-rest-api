(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{51:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){"use strict";n.r(e);var c,a,r=n(0),s=n.n(r),i=n(16),o=n(13),l=n(5),j=n(80),b=n(79),d=n(75),u=n(76),O=s.a.createContext({}),m=Object(r.createContext)({});!function(t){t.SUCCESS="success",t.WARN="warning",t.DANGER="danger",t.DEFAULT=""}(c||(c={})),function(t){t.CONTACT_ADD="Contact has been added!",t.CONTACT_ADD_FAILED="Contact has not been added!",t.CONTACT_UPDATE="Contact has been updated!",t.CONTACT_UPDATE_FAILED="Contact has not been updated!",t.CONTACT_DELETE="Contact has been deleted!",t.CONTACT_DELETE_FAILED="Contact has not been deleted!",t.DEFAULT=""}(a||(a={}));var h,x=n.p+"static/media/avatar-placeholder.8b00224c.png",f=n(1),p=function(t){var e=t.contact,n=Object(r.useContext)(O).removeContact,s=Object(r.useContext)(m).show;return Object(f.jsx)("div",{className:"card mb-3",children:Object(f.jsx)("div",{className:"card-body",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-9 d-flex flex-row align-items-center",children:[Object(f.jsx)("div",{className:"contact-image me-3",children:Object(f.jsx)("img",{src:x,className:"w-100 h-100",alt:"avatar"})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h5",{className:"card-title",children:e.name}),Object(f.jsx)("p",{className:"card-text fw-bolder email-blue",children:e.email})]})]}),Object(f.jsxs)("div",{className:"col-3 d-flex flex-row justify-content-end",children:[Object(f.jsx)(o.b,{to:"/edit-contact/".concat(e._id),className:"btn btn-outline-primary border-0 d-flex align-items-center",children:Object(f.jsx)(d.a,{height:"2em",width:"2em"})}),Object(f.jsx)("button",{className:"btn btn-outline-danger border-0",onClick:function(){return function(t){try{n(t),s(a.CONTACT_DELETE,c.WARN)}catch(e){s(a.CONTACT_DELETE_FAILED,c.DANGER)}}(e._id)},children:Object(f.jsx)(u.a,{height:"2em",width:"2em"})})]})]})})},e._id)},C=function(){return Object(f.jsx)("div",{className:"spinner-border text-primary",role:"status"})},T=(n(51),function(){var t=Object(r.useContext)(O),e=t.contacts,n=t.loading;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("h2",{className:"col-6 mb-0",children:"Contact List"}),Object(f.jsx)("div",{className:"col-6 d-flex justify-content-end",children:Object(f.jsx)(o.b,{to:"/add-contact",className:"btn px-4 btn-primary",children:"Add Contact"})})]}),Object(f.jsx)("hr",{className:"my-4"}),e.length?Object(f.jsx)(j.a,{children:e.map((function(t){return Object(f.jsx)(b.a,{timeout:400,classNames:"contact-item",children:Object(f.jsx)(p,{contact:t})},t._id)}))}):n?Object(f.jsx)(C,{}):Object(f.jsx)("p",{children:"There are no contacts!"})]})}),E=n(15),N=n(2),A=n(7),v=n.n(A),_=n(12),D=n(14),y=function(){var t=Object(r.useContext)(O).addContact,e=Object(r.useContext)(m).show,n=Object(l.f)(),s={name:"",email:""},i=Object(r.useState)(s),o=Object(D.a)(i,2),j=o[0],b=o[1],d=function(){var n=Object(_.a)(v.a.mark((function n(r){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault();try{t(j),e(a.CONTACT_ADD,c.SUCCESS)}catch(i){e(a.CONTACT_ADD_FAILED,c.DANGER)}b(s);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),u=function(t){b((function(e){return Object(N.a)(Object(N.a)({},e),Object(E.a)({},t.target.name,t.target.value))}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("h2",{className:"col-6 mb-0",children:"Add contact"}),Object(f.jsx)("div",{className:"col-6 d-flex justify-content-end",children:Object(f.jsx)("button",{className:"btn px-3 btn-danger",onClick:function(){n.goBack()},children:"Back"})})]}),Object(f.jsx)("hr",{className:"my-4"}),Object(f.jsxs)("form",{onSubmit:function(t){return d(t)},className:"",children:[Object(f.jsxs)("div",{className:"form-floating mb-3",children:[Object(f.jsx)("input",{value:j.name,onChange:function(t){return u(t)},id:"name",name:"name",type:"text",className:"form-control"}),Object(f.jsx)("label",{htmlFor:"name",children:"Name"})]}),Object(f.jsxs)("div",{className:"form-floating mb-3",children:[Object(f.jsx)("input",{value:j.email,onChange:function(t){return u(t)},id:"email",name:"email",type:"email",className:"form-control"}),Object(f.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(f.jsx)("button",{type:"submit",className:"btn btn-primary px-3",disabled:!(j.name.trim()&&j.email.trim()&&j.name.length<=20),children:"Add"})]})]})},g=function(t){var e=t.edContact,n=Object(r.useContext)(O).updateContact,s=Object(r.useContext)(m).show,i=Object(r.useState)(e),o=Object(D.a)(i,2),l=o[0],j=o[1],b=function(){var t=Object(_.a)(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault();try{n(l),s(a.CONTACT_UPDATE,c.SUCCESS)}catch(r){s(a.CONTACT_UPDATE_FAILED,c.DANGER)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(t){j((function(e){return Object(N.a)(Object(N.a)({},e),Object(E.a)({},t.target.name,t.target.value))}))};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{onSubmit:function(t){return b(t)},className:"",children:[Object(f.jsxs)("div",{className:"form-floating mb-3",children:[Object(f.jsx)("input",{value:l.name,onChange:function(t){return d(t)},id:"name",name:"name",type:"text",className:"form-control"}),Object(f.jsx)("label",{htmlFor:"name",children:"Name"})]}),Object(f.jsxs)("div",{className:"form-floating mb-3",children:[Object(f.jsx)("input",{value:l.email,onChange:function(t){return d(t)},id:"email",name:"email",type:"text",className:"form-control"}),Object(f.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(f.jsx)("button",{type:"submit",className:"btn btn-primary px-3",disabled:!(l.name.trim()&&l.email.trim()&&(l.name!==e.name||l.email!==e.email)&&l.name.length<=20),children:"Update"})]})})},w=function(){var t=Object(l.f)(),e=Object(l.g)().id,n=Object(r.useContext)(O).contacts.find((function(t){return t._id===e}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("h2",{className:"col-6 mb-0",children:"Edit contact"}),Object(f.jsx)("div",{className:"col-6 d-flex justify-content-end",children:Object(f.jsx)("button",{onClick:function(){t.goBack()},className:"btn px-3 btn-danger",children:"Back"})})]}),Object(f.jsx)("hr",{className:"my-4"}),n&&Object.keys(n).length&&n._id===e?Object(f.jsx)(g,{edContact:n}):Object(f.jsx)(C,{})]})},L=(n(53),n(77)),R=n(78),S=(n(54),function(){var t=Object(r.useContext)(m),e=t.hide,n=t.alert,c={className:"me-2",height:"1.5rem",width:"1.5rem"};return Object(f.jsx)(b.a,{in:n.visible,timeout:{enter:400,exit:200},classNames:"alert-transition",mountOnEnter:!0,unmountOnExit:!0,children:Object(f.jsxs)("div",{className:"alert alert-".concat(n.type," alert-dismissible text-center"),role:"alert",children:["danger"===n.type||"warning"===n.type?Object(f.jsx)(L.a,Object(N.a)({},c)):Object(f.jsx)(R.a,Object(N.a)({},c)),n.text,Object(f.jsx)("button",{onClick:e,type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]})})}),F=function(){var t=Object(r.useContext)(O).fetchContacts;return Object(r.useEffect)((function(){t()}),[]),Object(f.jsxs)("div",{className:"container pt-3",children:[Object(f.jsx)("h1",{className:"text-center",children:"Contact Manager"}),Object(f.jsx)(S,{}),Object(f.jsx)("hr",{className:"my-4"}),Object(f.jsx)(o.a,{children:Object(f.jsxs)(l.c,{children:[Object(f.jsx)(l.a,{component:T,path:"/",exact:!0}),Object(f.jsx)(l.a,{component:y,path:"/add-contact"}),Object(f.jsx)(l.a,{component:w,path:"/edit-contact/:id"})]})})]})};!function(t){t[t.SHOW_ALERT=0]="SHOW_ALERT",t[t.HIDE_ALERT=1]="HIDE_ALERT"}(h||(h={}));var H,k=function(t,e){switch(e.type){case h.SHOW_ALERT:return Object(N.a)(Object(N.a)({},e.payload),{},{visible:!0});case h.HIDE_ALERT:return Object(N.a)(Object(N.a)({},t),{},{visible:!1});default:return t}},U=function(t){var e=t.children,n={visible:!1,text:a.DEFAULT,type:c.DEFAULT},s=Object(r.useReducer)(k,n),i=Object(D.a)(s,2),o=i[0],l=i[1],j=function(){return l({type:h.HIDE_ALERT})};return Object(f.jsx)(m.Provider,{value:{show:function(t,e){l({type:h.SHOW_ALERT,payload:{text:t,type:e}}),setTimeout((function(){j()}),1500)},hide:j,alert:o},children:e})},I=n(19),P=n.n(I),W=n(34);!function(t){t[t.FETCH_CONTACTS=0]="FETCH_CONTACTS",t[t.FETCH_CONTACT=1]="FETCH_CONTACT",t[t.REMOVE_CONTACT=2]="REMOVE_CONTACT",t[t.ADD_CONTACT=3]="ADD_CONTACT",t[t.UPDATE_CONTACT=4]="UPDATE_CONTACT",t[t.SHOW_LOADER=5]="SHOW_LOADER",t[t.HIDE_LOADER=6]="HIDE_LOADER"}(H||(H={}));var B=function(t,e){switch(e.type){case H.FETCH_CONTACTS:return Object(N.a)(Object(N.a)({},t),{},{contacts:e.payload});case H.ADD_CONTACT:return Object(N.a)(Object(N.a)({},t),{},{contacts:[].concat(Object(W.a)(t.contacts),[e.payload])});case H.REMOVE_CONTACT:return Object(N.a)(Object(N.a)({},t),{},{contacts:t.contacts.filter((function(t){return t._id!==e.payload}))});case H.UPDATE_CONTACT:return Object(N.a)(Object(N.a)({},t),{},{contacts:t.contacts.map((function(t){return t._id===e.payload._id?Object(N.a)(Object(N.a)({},t),e.payload):t}))});case H.SHOW_LOADER:return Object(N.a)(Object(N.a)({},t),{},{loading:!0});case H.HIDE_LOADER:return Object(N.a)(Object(N.a)({},t),{},{loading:!1});default:return t}},M="http://localhost:3048/api/contacts",G=function(t){var e=t.children,n=Object(r.useReducer)(B,{contacts:[],loading:!1}),c=Object(D.a)(n,2),a=c[0],s=c[1],i=function(){var t=Object(_.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:H.SHOW_LOADER}),t.next=3,P.a.get(M).then((function(t){var e=t.data;s({type:H.FETCH_CONTACTS,payload:e}),s({type:H.HIDE_LOADER})}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(_.a)(v.a.mark((function t(e){var n,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.put("".concat(M,"/").concat(e._id),e);case 3:n=t.sent,c=n.data,s({type:H.UPDATE_CONTACT,payload:c}),t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(_.a)(v.a.mark((function t(e){var n,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.post(M,e);case 3:n=t.sent,c=n.data,s({type:H.ADD_CONTACT,payload:c}),t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(_.a)(v.a.mark((function t(e){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.a.delete("".concat(M,"/").concat(e)).then((function(){s({type:H.REMOVE_CONTACT,payload:e})}));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),new Error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsx)(O.Provider,{value:{contacts:a.contacts,loading:a.loading,fetchContacts:i,removeContact:j,addContact:l,updateContact:o},children:e})};n(73);Object(i.render)(Object(f.jsx)(G,{children:Object(f.jsx)(U,{children:Object(f.jsx)(F,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.56787f0b.chunk.js.map