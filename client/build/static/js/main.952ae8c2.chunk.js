(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{18:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(10),c=n(2),s=n.n(c),o=n(11),i=n(3),u=n(7),l=n(5),m=n(8),j=n(0),b=function(t){var e=t.contact,n=t.markContact,r=t.removeContact,a=["card-title"];return e.marked&&a.push("marked"),Object(j.jsx)("div",{className:"card mb-3",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:a.join(" "),children:e.name}),Object(j.jsx)("p",{className:"card-text",children:e.value}),Object(j.jsx)("button",{className:"btn btn-primary",onClick:function(){return n(e._id)},children:"Mark"}),Object(j.jsx)("button",{disabled:e.marked,className:"btn btn-danger",onClick:function(){return r(e._id)},children:"Delete"})]},e._id)})},d=(n(18),function(){var t=Object(i.a)(s.a.mark((function t(e){var n,r,a,c,o,i=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"GET",r=i.length>2&&void 0!==i[2]?i[2]:null,t.prev=2,c={},r&&(c["Content-Type"]="application/json",a=JSON.stringify(r)),t.next=7,fetch(e,{method:n,headers:c,body:a});case 7:return o=t.sent,t.abrupt("return",o.json());case 11:t.prev=11,t.t0=t.catch(2),console.warn("Error:",t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()),f=function(){return Object(j.jsx)("div",{className:"spinner-border text-primary",role:"status"})},p=function(){var t=Object(r.useState)({name:"",value:""}),e=Object(m.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)([]),p=Object(m.a)(c,2),h=p[0],O=p[1],v=Object(r.useState)(!1),x=Object(m.a)(v,2),k=x[0],N=x[1];Object(r.useEffect)((function(){N(!0),d("http://localhost:3048/api/contacts").then((function(t){O(t),N(!1)}))}),[]);var g=function(t){a((function(e){return Object(l.a)(Object(l.a)({},e),Object(u.a)({},t.target.name,t.target.value))}))},y=function(){var t=Object(i.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,d("http://localhost:3048/api/contacts","POST",n).then((function(t){O((function(e){return[].concat(Object(o.a)(e),[t])}))}));case 3:a((function(t){return{name:"",value:""}}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(i.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=h.find((function(t){return t._id===e})),t.next=3,d("http://localhost:3048/api/contacts/".concat(e),"PUT",Object(l.a)(Object(l.a)({},n),{},{marked:!n.marked})).then((function(t){O((function(e){return e.map((function(e){return e._id===t._id&&(e.marked=t.marked),e}))}))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(i.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d("http://localhost:3048/api/contacts/".concat(e),"DELETE").then((function(t){console.log(t.message),O((function(t){return t.filter((function(t){return t._id!==e}))}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"container pt-3",children:[Object(j.jsx)("h1",{children:"REST API"}),Object(j.jsxs)("form",{onSubmit:function(t){return y(t)},className:"form-inline mb-3",children:[Object(j.jsxs)("div",{className:"form-group mr-5",children:[Object(j.jsx)("label",{htmlFor:"name",className:"mr-3",children:"Name"}),Object(j.jsx)("input",{value:n.name,onChange:function(t){return g(t)},id:"name",name:"name",type:"text",className:"form-control"})]}),Object(j.jsxs)("div",{className:"form-group mr-5",children:[Object(j.jsx)("label",{htmlFor:"value",className:"mr-3",children:"Value"}),Object(j.jsx)("input",{value:n.value,onChange:function(t){return g(t)},id:"value",name:"value",type:"text",className:"form-control"})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!(n.name.trim()&&n.value.trim()),children:"Create"})]}),h.length?h.map((function(t){return Object(j.jsx)(b,{contact:t,markContact:w,removeContact:C},t._id)})):k?Object(j.jsx)(f,{}):Object(j.jsx)("p",{children:"There are no contacts!"})]})};n(19);Object(a.render)(Object(j.jsx)(p,{}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.952ae8c2.chunk.js.map